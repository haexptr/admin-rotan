@tailwind base;
@tailwind components;
@tailwind utilities;

/* Dark Mode Base Styles */
@layer base {
    /* Smooth transitions for theme changes */
    * {
        @apply transition-colors duration-200;
    }
    
    /* Dark mode scrollbar */
    .dark::-webkit-scrollbar {
        @apply w-2;
    }
    
    .dark::-webkit-scrollbar-track {
        @apply bg-dark-800;
    }
    
    .dark::-webkit-scrollbar-thumb {
        @apply bg-dark-600 rounded-full;
    }
    
    .dark::-webkit-scrollbar-thumb:hover {
        @apply bg-dark-500;
    }
}

/* FIXED: Chart container styles to prevent chart dropping issues */
@layer components {
    .chart-container {
        position: relative;
        width: 100%;
        height: 100%;
        min-height: 200px;
    }
    
    .chart-container canvas {
        position: absolute !important;
        top: 0;
        left: 0;
        width: 100% !important;
        height: 100% !important;
        max-width: none !important;
        max-height: none !important;
    }
    
    /* Dark Mode Toggle Button */
    .dark-mode-toggle {
        @apply relative inline-flex h-6 w-11 items-center rounded-full transition-colors;
        @apply bg-gray-200 dark:bg-dark-600;
    }
    
    .dark-mode-toggle-inner {
        @apply inline-block h-4 w-4 transform rounded-full bg-white transition-transform;
        @apply translate-x-1 dark:translate-x-6 dark:bg-dark-200;
    }
    
    /* Card Components for Dark Mode */
    .card {
        @apply bg-white dark:bg-dark-800 shadow-sm dark:shadow-dark-900/20 border border-gray-200 dark:border-dark-700 rounded-lg;
    }
    
    .card-header {
        @apply bg-gray-50 dark:bg-dark-750 border-b border-gray-200 dark:border-dark-700 px-4 py-3 rounded-t-lg;
    }
    
    /* Form Elements Dark Mode */
    .form-input {
        @apply bg-white dark:bg-dark-800 border-gray-300 dark:border-dark-600 text-gray-900 dark:text-dark-100;
        @apply focus:border-blue-500 dark:focus:border-blue-400 focus:ring-blue-500 dark:focus:ring-blue-400;
    }
    
    .form-select {
        @apply bg-white dark:bg-dark-800 border-gray-300 dark:border-dark-600 text-gray-900 dark:text-dark-100;
    }
    
    /* Button Components */
    .btn-primary {
        @apply bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white;
    }
    
    .btn-secondary {
        @apply bg-gray-600 hover:bg-gray-700 dark:bg-dark-600 dark:hover:bg-dark-500 text-white;
    }
    
    .btn-danger {
        @apply bg-red-600 hover:bg-red-700 dark:bg-red-500 dark:hover:bg-red-600 text-white;
    }
}

/* FIXED: Ensure proper responsive behavior */
@layer utilities {
    .dashboard-grid {
        display: grid;
        gap: 1.5rem;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    }
    
    .stats-grid {
        display: grid;
        gap: 1rem;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    }
    
    .chart-responsive {
        width: 100% !important;
        height: auto !important;
        aspect-ratio: 16/9;
    }
    
    /* Text Color Utilities for Dark Mode */
    .text-primary {
        @apply text-gray-900 dark:text-dark-100;
    }
    
    .text-secondary {
        @apply text-gray-600 dark:text-dark-400;
    }
    
    .text-muted {
        @apply text-gray-500 dark:text-dark-500;
    }
    
    /* Background Utilities for Dark Mode */
    .bg-primary {
        @apply bg-white dark:bg-dark-800;
    }
    
    .bg-secondary {
        @apply bg-gray-50 dark:bg-dark-900;
    }
    
    /* Border Utilities for Dark Mode */
    .border-primary {
        @apply border-gray-200 dark:border-dark-700;
    }
}